<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Happy Birthday, Sayang!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ...existing code... */
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        background: linear-gradient(135deg, #232526 0%, #757f9a 100%);
        font-family: "Poppins", "Segoe UI", sans-serif;
        color: #f5f5f5;
        overflow-x: hidden;
      }
      .centered {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }
      .bloom {
        width: 120px;
        height: 120px;
        margin-bottom: 24px;
        animation: bloom 2s ease-in-out forwards;
      }
      @keyframes bloom {
        0% {
          transform: scale(0.2) rotate(-30deg);
          opacity: 0;
        }
        80% {
          transform: scale(1.1) rotate(5deg);
          opacity: 1;
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      .typewriter {
        font-family: "poppins", cursive;
        font-size: 1.1rem;
        color: #fff;
        border-right: 2px solid #fff;
        white-space: nowrap;
        overflow: hidden;
        width: 0;
        animation: typing 3.5s steps(40, end) 1s forwards,
          blink-caret 0.7s step-end infinite;
        text-align: center;
      }
      @keyframes typing {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }
      @keyframes blink-caret {
        0%,
        100% {
          border-color: transparent;
        }
        50% {
          border-color: #fff;
        }
      }
      .btn-main {
        background: linear-gradient(90deg, #757f9a 0%, #232526 100%);
        color: #fff;
        border: none;
        border-radius: 30px;
        padding: 14px 36px;
        font-size: 1.1rem;
        font-family: "Poppins", sans-serif;
        margin-top: 36px;
        cursor: pointer;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
        transition: background 0.3s, transform 0.2s;
      }
      .btn-main:hover {
        background: linear-gradient(90deg, #232526 0%, #757f9a 100%);
        transform: scale(1.07);
      }
      .audio-controls {
        margin-top: 24px;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .audio-btn {
        background: #fff;
        color: #232526;
        border: none;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        font-size: 1.3rem;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
        transition: background 0.2s;
      }
      .audio-btn:hover {
        background: #757f9a;
        color: #fff;
      }
      .fireworks-canvas,
      .snow-canvas {
        position: fixed;
        pointer-events: none;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 0;
      }
      .album-link {
        display: block;
        margin: 40px auto 0 auto;
        text-align: center;
        color: #fff;
        font-family: "Poppins", sans-serif;
        font-size: 1.1rem;
        text-decoration: underline;
        letter-spacing: 1px;
        transition: color 0.2s;
      }
      .album-link:hover {
        color: #bfc1c2;
      }
      /* Tambahan untuk tombol album agar lebih bagus */
      #showAlbumBtn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        background: linear-gradient(90deg, #ffb3c6 0%, #757f9a 100%);
        color: #232526;
        border: none;
        border-radius: 32px;
        padding: 16px 38px;
        font-size: 1.25rem;
        font-family: "Poppins", sans-serif;
        font-weight: 600;
        margin: 44px auto 0 auto;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.13);
        cursor: pointer;
        transition: background 0.3s, color 0.2s, transform 0.18s;
        outline: none;
        position: relative;
        overflow: hidden;
      }
      #showAlbumBtn svg {
        width: 1.5em;
        height: 1.5em;
        vertical-align: middle;
        fill: #fff;
        transition: fill 0.2s;
      }
      #showAlbumBtn:hover {
        background: linear-gradient(90deg, #757f9a 0%, #ffb3c6 100%);
        color: #fff;
        transform: scale(1.06) translateY(-2px);
      }
      #showAlbumBtn:hover svg {
        fill: #ffb3c6;
      }
      /* Tambahan untuk album */
      #albumSection {
        display: none;
        opacity: 0;
        transition: opacity 0.8s;
        margin-top: 40px;
      }
      #albumSection h2 {
        text-align: center;
        font-family: "Dancing Script", cursive;
        font-size: 2rem;
        color: #fff;
        margin-bottom: 24px;
      }
      #albumSection img {
        width: 180px;
        height: 180px;
        object-fit: cover;
        border-radius: 18px;
        box-shadow: 0 2px 12px #0003;
      }
    </style>
  </head>
  <body>
    <canvas class="fireworks-canvas"></canvas>
    <canvas class="snow-canvas"></canvas>
    <div class="centered" id="opening">
      <!-- Animasi bunga mekar -->
      <svg class="bloom" viewBox="0 0 100 100">
        <!-- Kelopak bunga -->
        <ellipse
          cx="50"
          cy="25"
          rx="18"
          ry="28"
          fill="#ffb3c6"
          opacity="0.85"
        />
        <ellipse
          cx="75"
          cy="50"
          rx="18"
          ry="28"
          fill="#b5ead7"
          opacity="0.85"
          transform="rotate(60 75 50)"
        />
        <ellipse
          cx="50"
          cy="75"
          rx="18"
          ry="28"
          fill="#f7d6e0"
          opacity="0.85"
        />
        <ellipse
          cx="25"
          cy="50"
          rx="18"
          ry="28"
          fill="#f6eac2"
          opacity="0.85"
          transform="rotate(-60 25 50)"
        />
        <ellipse cx="50" cy="50" rx="22" ry="12" fill="#bfc1c2" opacity="0.5" />
        <!-- Tengah bunga -->
        <circle
          cx="50"
          cy="50"
          r="13"
          fill="#ff69b4"
          stroke="#fff"
          stroke-width="3"
        />
        <circle cx="50" cy="50" r="7" fill="#fff" opacity="0.7" />
      </svg>
      <!-- Pesan Ulang Tahun Mesin Ketik -->
      <div class="typewriter" id="typewriter"></div>
      <!-- Kontrol Audio -->
      <div class="audio-controls">
        <button class="audio-btn" id="playPauseBtn" title="Play/Pause">
          ❤️
        </button>
        <span id="audioStatus" style="font-size: 1rem">Tekan Hati Ini</span>
      </div>
      <!-- Link ke Album Galeri -->
      <button class="album-link" id="showAlbumBtn" style="margin-bottom: 0">
        <svg viewBox="0 0 24 24" style="margin-right: 6px">
          <path d="M4 4h16v16H4V4zm2 2v12h12V6H6zm2 2h8v2H8V8zm0 4h5v2H8v-2z" />
        </svg>
        <span id="albumBtnText">Lihat Album Kenangan</span>
        <span id="albumBtnIcon" style="margin-left: 8px">&darr;</span>
      </button>
    </div>
    <div
      id="albumSection"
      style="
        display: none;
        opacity: 0;
        transition: opacity 0.8s;
        margin-top: 40px;
      "
    >
      <h2
        style="
          text-align: center;
          font-family: 'Dancing Script', cursive;
          font-size: 2rem;
          color: #fff;
          margin-bottom: 24px;
        "
      >
        Album Kenangan
      </h2>
      <div
        style="
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 24px;
        "
      >
        <!-- Ganti src dengan gambar-gambar kenangan -->
        <img
          src="album/foto1.jpg"
          alt="Kenangan 1"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto2.jpg"
          alt="Kenangan 2"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto3.jpg"
          alt="Kenangan 3"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto4.jpg"
          alt="Kenangan 4"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto5.jpg"
          alt="Kenangan 5"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto6.jpg"
          alt="Kenangan 6"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto7.jpg"
          alt="Kenangan 7"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto8.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto9.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto10.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto11.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto12.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto13.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto14.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto15.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto16.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto17.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto18.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto19.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto20.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto21.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto22.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto23.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto24.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto25.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto26.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto27.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto28.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <img
          src="album/foto29.jpg"
          alt="Kenangan 8"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 2px 12px #0003;
          "
        />
        <!-- ...tambahkan gambar lain sesuai kebutuhan... -->
      </div>
    </div>
    <audio id="bgMusic" src="audi.mp3" preload="auto" loop></audio>
    <script>
      // Mesin Ketik Pesan Ulang Tahun
      const message =
        "Selamat ulang tahun, nayouuku.\nwish u all the best 🤍";
      const typewriter = document.getElementById("typewriter");
      let i = 0;
      function typeWriterEffect() {
        if (i < message.length) {
          if (message.charAt(i) === "\n") {
            typewriter.innerHTML += "<br>";
          } else {
            typewriter.innerHTML += message.charAt(i);
          }
          i++;
          setTimeout(typeWriterEffect, 55);
        }
      }
      window.addEventListener("DOMContentLoaded", () => {
        setTimeout(typeWriterEffect, 1200);
      });

      // Audio Play/Pause & Autoplay
      const bgMusic = document.getElementById("bgMusic");
      const playPauseBtn = document.getElementById("playPauseBtn");
      const audioStatus = document.getElementById("audioStatus");
      let isPlaying = false;
      function playMusic() {
        bgMusic.play();
        isPlaying = true;
        playPauseBtn.textContent = "⏸️";
        audioStatus.textContent = "Lagu Berjalan";
      }
      function pauseMusic() {
        bgMusic.pause();
        isPlaying = false;
        playPauseBtn.textContent = "🤍";
        audioStatus.textContent = "Tekan Hati Ini";
      }
      playPauseBtn.onclick = function () {
        if (isPlaying) pauseMusic();
        else playMusic();
      };
      // Autoplay (jika diizinkan browser)
      bgMusic.volume = 0.5;
      setTimeout(() => {
        bgMusic
          .play()
          .then(() => playMusic())
          .catch(() => {
            // Jika autoplay gagal, pastikan tombol dan status awal
            playPauseBtn.textContent = "🤍";
            audioStatus.textContent = "Tekan Hati Ini";
          });
      }, 1800);

      // HAPUS: Efek Salju/gambar berjatuhan
      // const snowCanvas = document.querySelector(".snow-canvas");
      // const snowCtx = snowCanvas.getContext("2d");
      // const img = new Image();
      // img.src = "nayo.png";
      // let snowflakes = [];
      // function resizeSnow() { ... }
      // window.addEventListener("resize", resizeSnow);
      // function createSnowflakes() { ... }
      // function drawSnowflakes() { ... }
      // function moveSnowflakes() { ... }
      // function snowLoop() { ... }
      // img.onload = function () { ... }

      // Tambahkan: Efek confetti sederhana
      const confettiColors = [
        "#fff",
        "#ffb3c6",
        "#b5ead7",
        "#f7d6e0",
        "#f6eac2",
        "#bfc1c2",
        "#757f9a",
      ];
      const confettiCanvas = document.createElement("canvas");
      confettiCanvas.style.position = "fixed";
      confettiCanvas.style.top = "0";
      confettiCanvas.style.left = "0";
      confettiCanvas.style.width = "100vw";
      confettiCanvas.style.height = "100vh";
      confettiCanvas.style.pointerEvents = "none";
      confettiCanvas.style.zIndex = "1";
      document.body.appendChild(confettiCanvas);
      const confettiCtx = confettiCanvas.getContext("2d");
      function resizeConfetti() {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;
      }
      window.addEventListener("resize", resizeConfetti);
      resizeConfetti();
      let confetti = [];
      function createConfetti() {
        confetti = [];
        for (let i = 0; i < 60; i++) {
          confetti.push({
            x: Math.random() * confettiCanvas.width,
            y: Math.random() * confettiCanvas.height,
            r: Math.random() * 8 + 6,
            d: Math.random() * 1.5 + 0.5,
            color:
              confettiColors[Math.floor(Math.random() * confettiColors.length)],
            tilt: Math.random() * 20 - 10,
            tiltAngle: Math.random() * Math.PI * 2,
            tiltSpeed: Math.random() * 0.1 + 0.05,
          });
        }
      }
      function drawConfetti() {
        confettiCtx.clearRect(
          0,
          0,
          confettiCanvas.width,
          confettiCanvas.height
        );
        for (let c of confetti) {
          confettiCtx.save();
          confettiCtx.beginPath();
          confettiCtx.ellipse(
            c.x,
            c.y,
            c.r,
            c.r * 0.4,
            c.tiltAngle,
            0,
            Math.PI * 2
          );
          confettiCtx.fillStyle = c.color;
          confettiCtx.globalAlpha = 0.85;
          confettiCtx.fill();
          confettiCtx.restore();
        }
        confettiCtx.globalAlpha = 1;
      }
      function moveConfetti() {
        for (let c of confetti) {
          c.y += c.d;
          c.x += Math.sin(c.y / 30) * 1.2;
          c.tiltAngle += c.tiltSpeed;
          if (c.y > confettiCanvas.height) {
            c.y = -10;
            c.x = Math.random() * confettiCanvas.width;
          }
        }
      }
      function confettiLoop() {
        drawConfetti();
        moveConfetti();
        requestAnimationFrame(confettiLoop);
      }
      createConfetti();
      confettiLoop();

      // Efek Kembang Api Sederhana
      const fwCanvas = document.querySelector(".fireworks-canvas");
      const fwCtx = fwCanvas.getContext("2d");
      function resizeFW() {
        fwCanvas.width = window.innerWidth;
        fwCanvas.height = window.innerHeight;
      }
      window.addEventListener("resize", resizeFW);
      resizeFW();
      let fireworks = [];
      function launchFirework() {
        const x = Math.random() * fwCanvas.width * 0.8 + fwCanvas.width * 0.1;
        const y = Math.random() * fwCanvas.height * 0.3 + fwCanvas.height * 0.1;
        const color = `hsl(${Math.random() * 360},80%,70%)`;
        let particles = [];
        for (let i = 0; i < 24; i++) {
          const angle = Math.PI * 2 * (i / 24);
          const speed = Math.random() * 2 + 2;
          particles.push({
            x,
            y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            alpha: 1,
            color,
          });
        }
        fireworks.push(particles);
      }
      function drawFireworks() {
        fwCtx.clearRect(0, 0, fwCanvas.width, fwCanvas.height);
        for (let i = fireworks.length - 1; i >= 0; i--) {
          let particles = fireworks[i];
          let alive = false;
          for (let p of particles) {
            if (p.alpha > 0.05) {
              alive = true;
              fwCtx.globalAlpha = p.alpha;
              fwCtx.beginPath();
              fwCtx.arc(p.x, p.y, 2.2, 0, Math.PI * 2);
              fwCtx.fillStyle = p.color;
              fwCtx.fill();
              p.x += p.vx;
              p.y += p.vy;
              p.vx *= 0.98;
              p.vy *= 0.98;
              p.vy += 0.03;
              p.alpha *= 0.96;
            }
          }
          if (!alive) fireworks.splice(i, 1);
        }
        fwCtx.globalAlpha = 1;
      }
      function fireworksLoop() {
        drawFireworks();
        requestAnimationFrame(fireworksLoop);
      }
      setInterval(launchFirework, 1800);
      fireworksLoop();

      // Ganti link album jadi tombol scroll & tampilkan album
      const showAlbumBtn = document.getElementById("showAlbumBtn");
      const albumSection = document.getElementById("albumSection");
      const albumBtnText = document.getElementById("albumBtnText");
      const albumBtnIcon = document.getElementById("albumBtnIcon");
      let albumShown = false;
      showAlbumBtn.onclick = function () {
        if (!albumShown) {
          albumSection.style.display = "block";
          setTimeout(() => {
            albumSection.style.opacity = "1";
            albumSection.scrollIntoView({ behavior: "smooth" });
          }, 50);
          albumBtnText.textContent = "Sembunyikan Album";
          albumBtnIcon.textContent = "↑";
          albumShown = true;
        } else {
          albumSection.style.opacity = "0";
          setTimeout(() => {
            albumSection.style.display = "none";
            albumBtnText.textContent = "Lihat Album Kenangan";
            albumBtnIcon.textContent = "↓";
          }, 800);
          albumShown = false;
        }
      };
    </script>
  </body>
</html>
